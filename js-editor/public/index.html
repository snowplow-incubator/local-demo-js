<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://fonts.googleapis.com/css2?family=Rubik&display=swap" rel="stylesheet">
    <script type="text/javascript" src="./js-editor/app.js"></script>
    <style>
body {
  width: 960px;
  margin: 0 auto;
  font-family: Rubik;
}
    </style>
  <title>demo</title></head>
  <body>
    <h2>Pageviews</h2>
    <p>Page views are tracked using the trackPageView method. This is generally part of the first Snowplow tag to fire on a particular web page. As a result, the trackPageView method is usually deployed straight after the tag that also invokes the Snowplow JavaScript (sp.js) e.g.</p>
    <div class="snowplow-example"><pre><code>&lt;script type="text/javascript">
;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)
};p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;
n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","https://d1fc8wv8zag5ca.cloudfront.net/2.10.2/sp.js","plow"));

window.plow('newTracker', 'sp', 'localhost:9090', {
    appId: 'my-app-id',
    contexts: {
        webPage: true
    }
});

window.plow('trackPageView');
 &lt;/script>
asdasdasd
&lt;button onclick="javascript:window.plow('trackPageView');">sadasdasdasd&lt;/button></code></pre></div>
    <p>Page views are tracked using the trackPageView method. This is generally part of the first Snowplow tag to fire on a particular web page. As a result, the trackPageView method is usually deployed straight after the tag that also invokes the Snowplow JavaScript (sp.js) e.g.</p>
      <div class="snowplow-example"><pre><code>
      &lt;script type="text/javascript">
;(function(p,l,o,w,i,n,g){if(!p[i]){p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
p.GlobalSnowplowNamespace.push(i);p[i]=function(){(p[i].q=p[i].q||[]).push(arguments)
};p[i].q=p[i].q||[];n=l.createElement(o);g=l.getElementsByTagName(o)[0];n.async=1;
n.src=w;g.parentNode.insertBefore(n,g)}}(window,document,"script","https://localhost:8000/sp.js","snowplow"));

window.snowplow('newTracker', 'sp', 'localhost:9090', {
    appId: 'my-app-id',
    contexts: {
        webPage: true
    }
});
window.snowplow('enableActivityTrackingCallback', 5, 5, function (event) {
    aggregatedEvent = {
        pageViewId: event.pageViewId,
        minXOffset: aggregatedEvent.minXOffset < event.minXOffset ? aggregatedEvent.minXOffset : event.minXOffset,
        maxYOffset: aggregatedEvent.maxYOffset > event.maxYOffset ? aggregatedEvent.maxYOffset : event.maxYOffset,
        minYOffset: aggregatedEvent.minYOffset < event.minYOffset ? aggregatedEvent.minYOffset : event.minYOffset,
        maxYOffset: aggregatedEvent.maxYOffset > event.maxYOffset ? aggregatedEvent.maxYOffset : event.maxYOffset,
        numEvents: aggregatedEvent.numEvents + 1
    };
});
var aggregatedEvent = {
    pageViewId: null,
    minXOffset: 0,
    maxXOffset: 0,
    minYOffset: 0,
    maxYOffset: 0,
    numEvents: 0
};
function sendAggregate() {
    window.snowplow('trackSelfDescribingEvent', {
        schema: 'iglu:com.acme_company/page_unload/jsonschema/1-0-0',
        data: {
            minXOffset: aggregatedEvent.minXOffset,
            maxXOffset: aggregatedEvent.maxXOffset,
            minYOffset: aggregatedEvent.minYOffset,
            maxYOffset: aggregatedEvent.maxYOffset,
            activeSeconds: aggregatedEvent.numEvents * 5
        }
    });
}
window.snowplow('trackPageView');
 &lt;/script>
 &lt;div style="height: 5000px; width: 100%; position: relative">
     &lt;button onclick="javascript:window.scrollBy(0, 5000)">Scroll to bottom&lt;/button>
     &lt;button style="position: absolute; bottom: 0; left: 0;" onclick="javascript:window.sendAggregate()">Send aggregate&lt;/button>
 &lt;/div>
        </code></pre></div>
    <p>Page views are tracked using the trackPageView method. This is generally part of the first Snowplow tag to fire on a particular web page. As a result, the trackPageView method is usually deployed straight after the tag that also invokes the Snowplow JavaScript (sp.js) e.g.</p>
    <div class="snowplow-example-short"><pre><code> Snowplow.getTrackerUrl('localhost:9090').trackPageView() </code></pre></div>
    <p>Page views are tracked using the trackPageView method. This is generally part of the first Snowplow tag to fire on a particular web page. As a result, the trackPageView method is usually deployed straight after the tag that also invokes the Snowplow JavaScript (sp.js) e.g.</p>
    <div class="snowplow-example-short"><pre><code> Snowplow.getTrackerUrl('localhost:9090').trackPageView() </code></pre></div>
  </body>
</html>
